<canvas width="600" height="400"></canvas>

<script>

  var tela = document.querySelector('canvas')
  var pincel = tela.getContext('2d')

  pincel.fillStyle = 'grey'
  pincel.fillRect(0, 0, 600, 400)

  var desenha = false

  // Atibuindo diretamente uma função anônima:
  // tela.onmousemove = function(evento) {...
    
  function desenhaCirculo(evento) {
    
    if (desenha) {
      var x = evento.pageX - tela.offsetLeft
      var y = evento.pageY - tela.offsetTop
      pincel.fillStyle = 'blue'
      pincel.beginPath()
      pincel.arc(x, y, 10, 0, 2 * 3.14)
      pincel.fill()
    }
    
    console.log(x + ',' + y)

  }

  tela.onmousemove = desenhaCirculo

  function habilitaDesenhar() {
    desenha = true;
  }

  // A função acima pode ser descrita diretamente como uma função anônima:
  // tela.onmousedown = function () { desenha (true) }

  function desabilitaDesenhar() {
    desenha = false;
  }

  // A função acima pode ser descrita diretamente como uma função anônima:
  // tela.onmouseup = function () { desenha (false) }

  tela.onmousedown = habilitaDesenhar;
  tela.onmouseup = desabilitaDesenhar;

</script>